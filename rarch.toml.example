[[rules]]
name = "My Photos"
type = "image" # The easy way: Automatically matches images based on content
target = "organized/images/${year}" # Using placeholders
conflict = "rename" # Handle duplicate names by adding a suffix

[[rules]]
name = "Documents"
extensions = ["pdf", "docx", "txt", "md"] # The classic way: Match by specific extensions
target = "organized/documents"
max_age = "30d" # ONLY move files that are at least 30 days old (Archiving)

[[rules]]
name = "Project Files"
regex = ".*-v\\d+\\.zip" # Match specific patterns like project-v1.zip
target = "organized/archive/versions"

[[rules]]
name = "Big Binaries"
mime = "application/x-executable" # The robust way: Match exact MIME types
min_size = 10485760 # 10MB - only match large files
target = "organized/large_binaries"

# --- AI Integration ---
# Rarch supports two AI modes:
# 1. Native AI (Zero setup, runs locally via Candle)
# 2. API AI (Connects to Ollama/OpenAI-compatible servers)

# Native AI Configuration (Optional)
# If not specified, Rarch will automatically download Qwen2-0.5B-Instruct.
# ai_model_path = "/path/to/your/model.gguf"
# ai_tokenizer_path = "/path/to/your/tokenizer.json"

# API AI Configuration (Optional)
# ai_api_base = "http://localhost:11434/v1"
# ai_model = "qwen2:0.5b"
#
# [[rules]]
# name = "Smart Classification"
# ai_prompt = "Is this a business invoice or bill?"
# target = "Finance/Invoices"
#
# [[rules]]
# name = "Smart Renaming"
# ai_rename_prompt = "Suggest a filename (Organization_Date)."
# target = "organized/${ai_name}.${ext}"
# extensions = ["txt", "pdf"]

# [[rules]]
# name = "Smart Extraction"
# ai_extract = { company = "Extract the company name from the invoice" }
# target = "organized/${ai_company}/${year}"
# extensions = ["txt", "pdf"]
